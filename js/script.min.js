function itemToolbar(e,t,a,n){"use strict";$.each($(e.affectedElements),function(e,s){if($(s).is("textarea")||"text"==$(s).attr("type")){var i=$(s).closest("div.t-Form-inputContainer"),r="1.4em",o=[],p=0,c=t.split(":"),l=(a.split(":"),n.split(":")),u=!0,d=["&#128513;","&#128514;","&#128517;","&#128520;","&#128521;","&#128523;","&#128526;","&#128528;","&#128530;","&#128545;","&#128548;","&#128561;","&#10084;","&#10004;","&#128077;","&#9992;","&#11088;","&#10060;","&#10071;","&#9749;","&#9742;","&#128163;","&#9888;","&#128269;","&#128198;"],h=[];for(e=0;e<l.length;e++)l[e]=+l[e];e=0;for(var g=d.length;e<g;e++)$.inArray(e+1,l)>=0&&h.push(d[e]);var f=[{type:"b",start:"<b>",end:"</b>",icon:"fa-bold"},{type:"i",start:"<i>",end:"</i>",icon:"fa-italic"},{type:"u",start:"<u>",end:"</u>",icon:"fa-underline"},{type:"s",start:"<sub>",end:"</sub>",icon:"fa-subscript"}],m=[];for(e=0,g=f.length;e<g;e++)$.inArray(f[e].type,a)>=0&&m.push(f[e]);var x=[{type:"undo",icon:"fa-undo"},{type:"redo",icon:"fa-repeat"}],b=$("<span></span>");b.addClass("t-Form-inlineHelp");function v(){var e=$("<span></span>");e.css("margin-right","5px"),e.css("margin-left","5px"),b.append(e)}$.each(c,function(e,t){"undoredo"==t&&($(s).keydown(function(){o.push(apex.item(s).getValue()),p=o.length}),$.each(x,function(e,t){var a=$("<span></span>");a.addClass("item-toolbar"),a.addClass("fa"),a.addClass(t.icon),a.css("cursor","pointer"),a.css("font-size",r),a.css("line-height","1.6em"),a.css("margin-right","2px"),a.attr("aria-hidden","true"),a.on("click",function(){"undo"==t.type?p>0&&(p==o.length&&apex.item(s).getValue()!=o[o.length-1]&&o.push(apex.item(s).getValue()),p--,apex.item(s).setValue(o[p])):p<o.length-1&&(p++,apex.item(s).setValue(o[p]))}),b.append(a)}),c.length>1&&v()),"clear"==t&&(!function(){var e=$("<span></span>");e.addClass("item-toolbar"),e.addClass("fa"),e.addClass("fa-remove"),e.css("cursor","pointer"),e.css("font-size",r),e.css("line-height","1.6em"),e.css("margin-right","2px"),e.attr("aria-hidden","true"),e.on("click",function(){$.inArray("undoredo",c)>=0&&(o.push(apex.item(s).getValue()),p=o.length),apex.item(s).setValue("")}),b.append(e)}(),c.length>1&&v()),"emoji"==t&&($.each(h,function(e,t){var a=$("<span></span>");a.addClass("item-toolbar"),a.css("cursor","pointer"),a.css("user-select","none"),a.css("font-size",r),a.css("line-height","1.5em"),a.css("margin-right","2px"),a.html(t),a.on("click",function(){var e=$(s).prop("selectionStart"),t=$.trim($(this).text()),a=apex.item(s).getValue();$.inArray("undoredo",c)>=0&&(o.push(a),p=o.length),u&&0==e?a+=t:a=a.substring(0,e)+t+a.substring(e,a.length),apex.item(s).setValue(a)}),b.append(a)}),c.length>1&&v()),"format"==t&&$.each(m,function(e,t){var a=$("<span></span>");a.addClass("item-toolbar"),a.addClass("fa"),a.addClass(t.icon),a.css("cursor","pointer"),a.css("font-size",r),a.css("line-height","1.6em"),a.css("margin-right","2px"),a.attr("aria-hidden","true"),a.on("click",function(){var e=$(s).prop("selectionStart"),a=$(s).prop("selectionEnd"),n=apex.item(s).getValue();$.inArray("undoredo",c)>=0&&(o.push(n),p=o.length);var i=n.substring(e,a);n=n.substring(0,e)+t.start+i+t.end+n.substring(a,n.length),apex.item(s).setValue(n)}),b.append(a)})});var y=$(i).find(".t-Form-itemWrapper");b.insertAfter(y)}})}