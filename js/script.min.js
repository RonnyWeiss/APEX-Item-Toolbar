function itemToolbar(e,t){"use strict";$.each($(e.affectedElements),function(e,a){if($(a).is("textarea")||"text"==$(a).attr("type")){var n=$(a).closest("div.t-Form-inputContainer"),s="1.4em",i=[],r=0,o=t.split(":"),c=["&#128513;","&#128514;","&#128517;","&#128520;","&#128521;","&#128523;","&#128526;","&#128528;","&#128530;","&#128545;","&#128548;","&#128561;"],p=[{start:"<b>",end:"</b>",icon:"fa-bold"},{start:"<i>",end:"</i>",icon:"fa-italic"},{start:"<u>",end:"</u>",icon:"fa-underline"},{start:"<sub>",end:"</sub>",icon:"fa-subscript"}],l=[{type:"undo",icon:"fa-undo"},{type:"redo",icon:"fa-repeat"}],d=$("<span></span>");d.addClass("t-Form-inlineHelp");function u(){var e=$("<span></span>");e.css("margin-right","5px"),e.css("margin-left","5px"),d.append(e)}$.each(o,function(e,t){"undoredo"==t&&($(a).keydown(function(){i.push(apex.item(a).getValue()),r=i.length}),$.each(l,function(e,t){var n=$("<span></span>");n.addClass("item-toolbar"),n.addClass("fa"),n.addClass(t.icon),n.css("cursor","pointer"),n.css("font-size",s),n.css("line-height","1.6em"),n.css("margin-right","2px"),n.attr("aria-hidden","true"),n.on("click",function(){"undo"==t.type?r>0&&(r==i.length&&apex.item(a).getValue()!=i[i.length-1]&&i.push(apex.item(a).getValue()),r--,apex.item(a).setValue(i[r])):r<i.length-1&&(r++,apex.item(a).setValue(i[r]))}),d.append(n)}),o.length>1&&u()),"clear"==t&&(!function(){var e=$("<span></span>");e.addClass("item-toolbar"),e.addClass("fa"),e.addClass("fa-remove"),e.css("cursor","pointer"),e.css("font-size",s),e.css("line-height","1.6em"),e.css("margin-right","2px"),e.attr("aria-hidden","true"),e.on("click",function(){$.inArray("undoredo",o)>=0&&(i.push(apex.item(a).getValue()),r=i.length),apex.item(a).setValue("")}),d.append(e)}(),o.length>1&&u()),"emoji"==t&&($.each(c,function(e,t){var n=$("<span></span>");n.addClass("item-toolbar"),n.css("cursor","pointer"),n.css("font-size",s),n.css("line-height","1.5em"),n.css("margin-right","2px"),n.html(t),n.on("click",function(){var e=$(a).prop("selectionStart"),t=$.trim($(this).text()),n=apex.item(a).getValue();$.inArray("undoredo",o)>=0&&(i.push(n),r=i.length),n=n.substring(0,e)+t+n.substring(e,n.length),apex.item(a).setValue(n)}),d.append(n)}),o.length>1&&u()),"format"==t&&$.each(p,function(e,t){var n=$("<span></span>");n.addClass("item-toolbar"),n.addClass("fa"),n.addClass(t.icon),n.css("cursor","pointer"),n.css("font-size",s),n.css("line-height","1.6em"),n.css("margin-right","2px"),n.attr("aria-hidden","true"),n.on("click",function(){var e=$(a).prop("selectionStart"),n=$(a).prop("selectionEnd"),s=apex.item(a).getValue();$.inArray("undoredo",o)>=0&&(i.push(s),r=i.length);var c=s.substring(e,n);s=s.substring(0,e)+t.start+c+t.end+s.substring(n,s.length),apex.item(a).setValue(s)}),d.append(n)})});var h=$(n).find(".t-Form-itemWrapper");d.insertAfter(h)}})}